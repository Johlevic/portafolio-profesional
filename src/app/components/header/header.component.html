<!-- HEADER MÓVIL (Solo visible en pantallas < md) -->
<header
  class="md:hidden fixed top-0 left-0 w-full h-20 flex items-center bg-white/90 dark:bg-gray-900/90 backdrop-blur-lg border-b border-gray-200 dark:border-blue-500/20 z-50 transition-colors duration-300"
>
  <div class="container mx-auto flex justify-between items-center px-6">
    <div class="flex items-center space-x-3">
      <div class="p-1.5 rounded-lg bg-blue-500/10 border border-blue-500/20">
        <span class="text-xl font-mono text-blue-400 font-bold leading-none"
          >&lt;/&gt;</span
        >
      </div>
      <div class="flex flex-col">
        <span
          class="text-lg font-bold text-gray-800 dark:text-white font-['Orbitron'] tracking-wide transition-colors duration-300"
          >JHONY</span
        >
        <span
          class="text-[9px] text-blue-400 font-bold uppercase tracking-[0.3em] leading-none"
          >{{ languageService.t("header.role") }}</span
        >
      </div>
    </div>
    <div class="flex items-center gap-3">
      <!-- Mobile Profile Photo (Scroll Dependent) -->
      <div
        class="transition-all duration-500 overflow-hidden flex items-center"
        [style.max-width]="showProfile ? '50px' : '0px'"
        [style.opacity]="showProfile ? '1' : '0'"
      >
        <img
          src="assets/img/perfil.jpg"
          alt="Profile"
          class="w-10 h-10 rounded-full border-2 border-blue-500 object-cover shadow-sm min-w-[40px]"
        />
      </div>

      <button
        (click)="toggleMobileMenu()"
        class="p-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-blue-600 dark:text-blue-400 hover:bg-gray-200 dark:hover:text-white transition-all active:scale-90 flex items-center justify-center duration-300"
      >
        <i class="bi bi-grid-3x3-gap-fill text-xl"></i>
      </button>
    </div>
  </div>
</header>

<!-- SIDEBAR DESKTOP / TABLET (Solo visible en pantallas >= md) -->
<aside
  class="hidden md:flex fixed top-0 left-0 h-screen w-24 lg:w-72 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-blue-500/30 flex-col py-8 z-50 shadow-2xl overflow-y-auto transition-all duration-300"
>
  <div class="px-2 lg:px-8 mb-10 text-center">
    <div
      class="mb-4 inline-block p-3 lg:p-4 rounded-full bg-blue-500/10 border border-blue-500/20"
    >
      <span class="text-2xl lg:text-4xl font-mono text-blue-400 font-bold"
        >&lt;/&gt;</span
      >
    </div>
    <h1
      class="hidden lg:block text-2xl font-['Orbitron'] font-bold text-gray-800 dark:text-blue-200 transition-colors duration-300"
    >
      Jhony Lezama
    </h1>
    <p
      class="hidden lg:block text-blue-400 text-sm font-medium mt-1 uppercase tracking-widest leading-relaxed"
    >
      {{ languageService.t("sidebar.role") }}
    </p>
  </div>

  <nav class="flex-1 px-2 lg:px-4">
    <ul class="space-y-2 lg:space-y-1">
      <li>
        <a
          routerLink="/"
          routerLinkActive="bg-blue-50 dark:bg-blue-600/20 text-blue-600 dark:text-blue-300 border-l-4 border-blue-500"
          [routerLinkActiveOptions]="{ exact: true }"
          class="flex items-center justify-center lg:justify-start gap-4 px-4 lg:px-6 py-4 lg:py-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 hover:text-blue-600 dark:hover:text-blue-200 transition-all rounded-lg group"
          [title]="languageService.t('nav.home')"
        >
          <i
            class="bi bi-house-door text-2xl lg:text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="hidden lg:block font-medium">{{
            languageService.t("nav.home")
          }}</span>
        </a>
      </li>
      <li>
        <a
          routerLink="/sobre-mi"
          routerLinkActive="bg-blue-50 dark:bg-blue-600/20 text-blue-600 dark:text-blue-300 border-l-4 border-blue-500"
          class="flex items-center justify-center lg:justify-start gap-4 px-4 lg:px-6 py-4 lg:py-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 hover:text-blue-600 dark:hover:text-blue-200 transition-all rounded-lg group"
          [title]="languageService.t('nav.about')"
        >
          <i
            class="bi bi-person text-2xl lg:text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="hidden lg:block font-medium">{{
            languageService.t("nav.about")
          }}</span>
        </a>
      </li>
      <li>
        <a
          routerLink="/habilidades"
          routerLinkActive="bg-blue-50 dark:bg-blue-600/20 text-blue-600 dark:text-blue-300 border-l-4 border-blue-500"
          class="flex items-center justify-center lg:justify-start gap-4 px-4 lg:px-6 py-4 lg:py-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 hover:text-blue-600 dark:hover:text-blue-200 transition-all rounded-lg group"
          [title]="languageService.t('nav.skills')"
        >
          <i
            class="bi bi-tools text-2xl lg:text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="hidden lg:block font-medium">{{
            languageService.t("nav.skills")
          }}</span>
        </a>
      </li>
      <li>
        <a
          routerLink="/proyectos"
          routerLinkActive="bg-blue-50 dark:bg-blue-600/20 text-blue-600 dark:text-blue-300 border-l-4 border-blue-500"
          class="flex items-center justify-center lg:justify-start gap-4 px-4 lg:px-6 py-4 lg:py-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 hover:text-blue-600 dark:hover:text-blue-200 transition-all rounded-lg group"
          [title]="languageService.t('nav.projects')"
        >
          <i
            class="bi bi-folder2-open text-2xl lg:text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="hidden lg:block font-medium">{{
            languageService.t("nav.projects")
          }}</span>
        </a>
      </li>
      <li>
        <a
          routerLink="/experiencia"
          routerLinkActive="bg-blue-50 dark:bg-blue-600/20 text-blue-600 dark:text-blue-300 border-l-4 border-blue-500"
          class="flex items-center justify-center lg:justify-start gap-4 px-4 lg:px-6 py-4 lg:py-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 hover:text-blue-600 dark:hover:text-blue-200 transition-all rounded-lg group"
          [title]="languageService.t('nav.experience')"
        >
          <i
            class="bi bi-briefcase text-2xl lg:text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="hidden lg:block font-medium">{{
            languageService.t("nav.experience")
          }}</span>
        </a>
      </li>
      <li>
        <a
          routerLink="/contacto"
          routerLinkActive="bg-blue-50 dark:bg-blue-600/20 text-blue-600 dark:text-blue-300 border-l-4 border-blue-500"
          class="flex items-center justify-center lg:justify-start gap-4 px-4 lg:px-6 py-4 lg:py-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 hover:text-blue-600 dark:hover:text-blue-200 transition-all rounded-lg group"
          [title]="languageService.t('nav.contact')"
        >
          <i
            class="bi bi-envelope text-2xl lg:text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="hidden lg:block font-medium">{{
            languageService.t("nav.contact")
          }}</span>
        </a>
      </li>
    </ul>
  </nav>

  <div
    class="px-2 lg:px-8 pt-6 border-t border-gray-200 dark:border-gray-700/50 lg:hidden"
  >
    <div
      class="flex flex-col lg:flex-row items-center justify-around text-gray-400 mb-4 gap-4 lg:gap-0"
    >
      <a
        href="https://wa.me/51980609176"
        target="_blank"
        class="hover:text-green-400 transition-colors"
        title="WhatsApp"
        ><i class="bi bi-whatsapp text-2xl"></i
      ></a>
      <a
        href="https://github.com/Johlevic/"
        target="_blank"
        class="hover:text-gray-900 dark:hover:text-white transition-colors"
        title="GitHub"
        ><i class="bi bi-github text-2xl"></i
      ></a>
      <a
        href="mailto:jlezamavictorio@gmail.com"
        class="hover:text-red-400 transition-colors"
        title="Email"
        ><i class="bi bi-envelope-at text-2xl"></i
      ></a>
    </div>
  </div>
</aside>

<!-- NAV MÓVIL (Solo visible en pantallas < md) -->
<div
  *ngIf="mobileMenuOpen"
  (click)="closeMobileMenu()"
  class="fixed inset-0 bg-black/70 backdrop-blur-md z-[60] md:hidden transition-opacity duration-300"
></div>

<nav
  class="fixed top-0 left-0 h-screen w-full bg-white dark:bg-gray-900 z-[70] shadow-[10px_0_30px_rgba(0,0,0,0.5)] transform transition-all duration-300 ease-out md:hidden flex flex-col border-r border-gray-200 dark:border-blue-500/20"
  [class.-translate-x-full]="!mobileMenuOpen"
  [class.translate-x-0]="mobileMenuOpen"
>
  <!-- MOBILE MENU HEADER -->
  <div
    class="p-8 border-b border-gray-200 dark:border-gray-800 bg-gradient-to-b from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 transition-colors duration-300"
  >
    <div class="flex items-center justify-between mb-6">
      <div class="p-3 rounded-xl bg-blue-500/10 border border-blue-500/20">
        <span class="text-3xl font-mono text-blue-400 font-bold"
          >&lt;/&gt;</span
        >
      </div>
      <!-- Mobile Controls -->
      <div class="flex items-center gap-3">
        <div class="transform scale-90">
          <app-language-selector></app-language-selector>
        </div>
        <div class="transform scale-90">
          <app-theme-toggle></app-theme-toggle>
        </div>
        <button
          (click)="closeMobileMenu()"
          class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white text-4xl transition-colors duration-200 ml-2"
        >
          <i class="bi bi-x-lg text-2xl"></i>
        </button>
      </div>
    </div>
    <h2
      class="text-2xl font-['Orbitron'] font-bold text-gray-800 dark:text-white tracking-tight transition-colors duration-300"
    >
      Jhony Lezama
    </h2>
    <p
      class="text-blue-400 text-sm font-medium uppercase tracking-[0.2em] mt-1"
    >
      {{ languageService.t("mobile.role") }}
    </p>
  </div>

  <!-- MOBILE MENU BODY -->
  <div class="flex-1 overflow-y-auto px-4 py-8">
    <ul class="space-y-2">
      <li>
        <a
          (click)="navigateToMobile('inicio')"
          class="flex items-center gap-4 px-6 py-4 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-600/10 hover:text-blue-600 dark:hover:text-blue-300 rounded-xl transition-all duration-200 group active:scale-95"
        >
          <i
            class="bi bi-house-door text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-base font-medium">{{
            languageService.t("nav.home")
          }}</span>
        </a>
      </li>
      <li>
        <a
          (click)="navigateToMobile('sobre-mi')"
          class="flex items-center gap-4 px-6 py-4 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-600/10 hover:text-blue-600 dark:hover:text-blue-300 rounded-xl transition-all duration-200 group active:scale-95"
        >
          <i
            class="bi bi-person text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-base font-medium">{{
            languageService.t("nav.about")
          }}</span>
        </a>
      </li>
      <li>
        <a
          (click)="navigateToMobile('habilidades-section')"
          class="flex items-center gap-4 px-6 py-4 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-600/10 hover:text-blue-600 dark:hover:text-blue-300 rounded-xl transition-all duration-200 group active:scale-95"
        >
          <i
            class="bi bi-tools text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-base font-medium">{{
            languageService.t("nav.skills")
          }}</span>
        </a>
      </li>
      <li>
        <a
          (click)="navigateToMobile('proyectos')"
          class="flex items-center gap-4 px-6 py-4 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-600/10 hover:text-blue-600 dark:hover:text-blue-300 rounded-xl transition-all duration-200 group active:scale-95"
        >
          <i
            class="bi bi-folder2-open text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-base font-medium">{{
            languageService.t("nav.projects")
          }}</span>
        </a>
      </li>
      <li>
        <a
          (click)="navigateToMobile('experiencia')"
          class="flex items-center gap-4 px-6 py-4 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-600/10 hover:text-blue-600 dark:hover:text-blue-300 rounded-xl transition-all duration-200 group active:scale-95"
        >
          <i
            class="bi bi-briefcase text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-base font-medium">{{
            languageService.t("nav.experience")
          }}</span>
        </a>
      </li>
      <li>
        <a
          (click)="navigateToMobile('contacto')"
          class="flex items-center gap-4 px-6 py-4 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-600/10 hover:text-blue-600 dark:hover:text-blue-300 rounded-xl transition-all duration-200 group active:scale-95"
        >
          <i
            class="bi bi-envelope text-xl group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-base font-medium">{{
            languageService.t("nav.contact")
          }}</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- MOBILE MENU FOOTER -->
  <div
    class="p-8 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 transition-colors duration-300"
  >
    <p
      class="text-gray-500 text-xs uppercase tracking-widest mb-6 font-semibold"
    >
      {{ languageService.t("mobile.findMe") }}
    </p>
    <div class="flex items-center justify-between gap-4">
      <a
        href="https://wa.me/51980609176"
        target="_blank"
        class="flex-1 flex flex-col items-center justify-center p-3 rounded-xl bg-green-500/10 border border-green-500/20 text-green-400 hover:bg-green-500/20 transition-all active:scale-90"
      >
        <i class="bi bi-whatsapp text-2xl mb-1"></i>
        <span class="text-[10px] font-bold">WhatsApp</span>
      </a>
      <a
        href="https://github.com/Johlevic/"
        target="_blank"
        class="flex-1 flex flex-col items-center justify-center p-3 rounded-xl bg-blue-500/10 border border-blue-500/20 text-blue-400 hover:bg-blue-500/20 transition-all active:scale-90"
      >
        <i class="bi bi-github text-2xl mb-1"></i>
        <span class="text-[10px] font-bold">GitHub</span>
      </a>
      <a
        href="mailto:jlezamavictorio@gmail.com"
        class="flex-1 flex flex-col items-center justify-center p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 hover:bg-red-500/20 transition-all active:scale-90"
      >
        <i class="bi bi-envelope-at text-2xl mb-1"></i>
        <span class="text-[10px] font-bold">Email</span>
      </a>
    </div>
  </div>
</nav>
